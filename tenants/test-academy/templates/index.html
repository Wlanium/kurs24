{% extends "base.html" %}

{% block title %}{{ course.title if course else 'Mein Kurs' }} - Dashboard{% endblock %}

{% block content %}
<!-- Hero Welcome Section -->
<section class="hero is-primary is-medium">
    <div class="hero-body">
        <div class="has-text-centered">
            <h1 class="title is-1 has-text-white">
                <span class="icon is-large">
                    <i class="fas fa-graduation-cap fa-2x"></i>
                </span>
                <br>
                Willkommen zurück, {{ session.username }}!
            </h1>
            <p class="subtitle is-4 has-text-white" style="opacity: 0.9;">
                {{ course.title if course else 'Bereit für deine nächste Lerneinheit?' }}
            </p>
            
            <!-- Overall Progress Bar -->
            <div class="columns is-centered mt-5">
                <div class="column is-8">
                    <div class="box" style="background: rgba(255,255,255,0.1); border: none;">
                        <p class="has-text-white has-text-weight-bold mb-3">Gesamtfortschritt</p>
                        <progress class="progress is-success is-large" value="67" max="100">67%</progress>
                        <p class="has-text-white"><strong>67%</strong> abgeschlossen - Du machst großartige Fortschritte! 🎉</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Learning Activities Grid -->
<section class="section">
    <div class="columns is-multiline">
        
        <!-- Begriffe lernen -->
        <div class="column is-12-tablet is-6-desktop">
            <a href="{{ url_for('main.content_view', content_type='begriff') }}" class="box content-card" style="height: 100%; display: block; text-decoration: none; color: inherit;">
                <div class="has-text-centered mb-4">
                    <div class="content-type-icon" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8);">
                        <i class="fas fa-book-open"></i>
                    </div>
                </div>
                
                <h3 class="title is-4 has-text-centered">📚 Begriffe lernen</h3>
                
                <div class="content has-text-centered">
                    <div class="columns is-mobile">
                        <div class="column">
                            <p class="has-text-grey">Fortschritt</p>
                            <p class="title is-3 has-text-primary">123/200</p>
                        </div>
                        <div class="column">
                            <p class="has-text-grey">Heute gelernt</p>
                            <p class="title is-3 has-text-success">+8</p>
                        </div>
                    </div>
                    
                    <progress class="progress is-primary" value="61.5" max="100">61.5%</progress>
                    <p class="has-text-grey">61% der Begriffe gemeistert</p>
                </div>
                
                <div class="tags has-addons is-centered mt-4">
                    <span class="tag is-primary">Nächster Begriff</span>
                    <span class="tag is-light">Kaufvertrag</span>
                </div>
                
                <div class="has-text-centered mt-4">
                    <span class="button is-primary is-rounded">
                        <span class="icon"><i class="fas fa-play"></i></span>
                        <span>Weiter lernen</span>
                    </span>
                </div>
            </a>
        </div>

        <!-- Quiz starten -->
        <div class="column is-12-tablet is-6-desktop">
            <a href="{{ url_for('main.content_view', content_type='quiz') }}" class="box content-card" style="height: 100%; display: block; text-decoration: none; color: inherit;">
                <div class="has-text-centered mb-4">
                    <div class="content-type-icon" style="background: linear-gradient(135deg, #10b981, #059669);">
                        <i class="fas fa-brain"></i>
                    </div>
                </div>
                
                <h3 class="title is-4 has-text-centered">🧠 Quiz Training</h3>
                
                <div class="content has-text-centered">
                    <div class="columns is-mobile">
                        <div class="column">
                            <p class="has-text-grey">Erfolgsquote</p>
                            <p class="title is-3 has-text-success">85%</p>
                        </div>
                        <div class="column">
                            <p class="has-text-grey">Durchschnitt</p>
                            <p class="title is-3 has-text-warning">⭐ 4.2</p>
                        </div>
                    </div>
                    
                    <progress class="progress is-success" value="85" max="100">85%</progress>
                    <p class="has-text-grey">Sehr gut! Weiter so! 💪</p>
                </div>
                
                <div class="tags has-addons is-centered mt-4">
                    <span class="tag is-success">Verfügbar</span>
                    <span class="tag is-light">12 neue Fragen</span>
                </div>
                
                <div class="has-text-centered mt-4">
                    <span class="button is-success is-rounded">
                        <span class="icon"><i class="fas fa-play"></i></span>
                        <span>Quiz starten</span>
                    </span>
                </div>
            </a>
        </div>

        <!-- Lernkarten üben -->
        <div class="column is-12-tablet is-6-desktop">
            <a href="{{ url_for('main.content_view', content_type='lernkarte') }}" class="box content-card" style="height: 100%; display: block; text-decoration: none; color: inherit;">
                <div class="has-text-centered mb-4">
                    <div class="content-type-icon" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
                        <i class="fas fa-layer-group"></i>
                    </div>
                </div>
                
                <h3 class="title is-4 has-text-centered">💳 Lernkarten</h3>
                
                <div class="content has-text-centered">
                    <div class="columns is-mobile">
                        <div class="column">
                            <p class="has-text-grey">Lernzeit heute</p>
                            <p class="title is-3 has-text-warning">45 min</p>
                        </div>
                        <div class="column">
                            <p class="has-text-grey">Wiederholung</p>
                            <p class="title is-3 has-text-info">🔄 23</p>
                        </div>
                    </div>
                    
                    <progress class="progress is-warning" value="72" max="100">72%</progress>
                    <p class="has-text-grey">Spaced Repetition Algorithmus aktiv</p>
                </div>
                
                <div class="tags has-addons is-centered mt-4">
                    <span class="tag is-warning">Heute fällig</span>
                    <span class="tag is-light">23 Karten</span>
                </div>
                
                <div class="has-text-centered mt-4">
                    <span class="button is-warning is-rounded">
                        <span class="icon"><i class="fas fa-play"></i></span>
                        <span>Üben starten</span>
                    </span>
                </div>
            </a>
        </div>

        <!-- Mein Fortschritt -->
        <div class="column is-12-tablet is-6-desktop">
            <a href="{{ url_for('main.dashboard') }}" class="box content-card" style="height: 100%; display: block; text-decoration: none; color: inherit;">
                <div class="has-text-centered mb-4">
                    <div class="content-type-icon" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);">
                        <i class="fas fa-chart-line"></i>
                    </div>
                </div>
                
                <h3 class="title is-4 has-text-centered">📊 Mein Fortschritt</h3>
                
                <div class="content has-text-centered">
                    <div class="columns is-mobile">
                        <div class="column">
                            <p class="has-text-grey">Lernstreak</p>
                            <p class="title is-3 has-text-purple">🔥 7</p>
                        </div>
                        <div class="column">
                            <p class="has-text-grey">Level</p>
                            <p class="title is-3 has-text-info">⚡ 12</p>
                        </div>
                    </div>
                    
                    <progress class="progress is-info" value="78" max="100">78%</progress>
                    <p class="has-text-grey">Auf dem Weg zum nächsten Level!</p>
                </div>
                
                <div class="tags has-addons is-centered mt-4">
                    <span class="tag is-info">Status</span>
                    <span class="tag is-light">Sehr aktiv</span>
                </div>
                
                <div class="has-text-centered mt-4">
                    <span class="button is-info is-rounded">
                        <span class="icon"><i class="fas fa-chart-bar"></i></span>
                        <span>Details ansehen</span>
                    </span>
                </div>
            </a>
        </div>
    </div>
</section>

<!-- Quick Stats Section -->
<section class="section pt-0">
    <div class="box">
        <h3 class="title is-4">📈 Deine Erfolge diese Woche</h3>
        <div class="columns">
            <div class="column">
                <div class="stat-card">
                    <div class="stat-value">47</div>
                    <div class="stat-label">Neue Begriffe</div>
                </div>
            </div>
            <div class="column">
                <div class="stat-card">
                    <div class="stat-value">89%</div>
                    <div class="stat-label">Quiz-Erfolg</div>
                </div>
            </div>
            <div class="column">
                <div class="stat-card">
                    <div class="stat-value">3.2h</div>
                    <div class="stat-label">Lernzeit</div>
                </div>
            </div>
            <div class="column">
                <div class="stat-card">
                    <div class="stat-value">+156</div>
                    <div class="stat-label">XP Punkte</div>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}

{% block extra_js %}
<script>
// Add some interactive hover effects
document.addEventListener('DOMContentLoaded', () => {
    const cards = document.querySelectorAll('.content-card');
    
    cards.forEach(card => {
        card.addEventListener('mouseenter', () => {
            card.style.transform = 'translateY(-8px) scale(1.02)';
        });
        
        card.addEventListener('mouseleave', () => {
            card.style.transform = 'translateY(0) scale(1)';
        });
    });
});
</script>
{% endblock %}